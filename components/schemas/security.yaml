openapi: 3.1.0
info:
  title: MarketDataAPI.com - Security Schemas
  version: '1'

components:
  schemas:
    Symbol:
      type: string
      description: Ticker symbol identifying a traded securities
      example: 'AAPL'

    ISIN:
      type: string
      description: International Securities Identification Number
      pattern: '^[A-Z]{2}[A-Z0-9]{9}[0-9]$'
      example: 'US0378331005'

    CUSIP:
      type: string
      description: CUSIP identifier (primarily North America)
      pattern: '^[0-9A-Z]{9}$'
      example: '037833100'

    CIK:
      type: string
      description: SEC Central Index Key
      pattern: '^[0-9]{10}$'
      example: '0000320193'

    SecurityIdentifier:
      oneOf:
        - $ref: '#/components/schemas/Symbol'
        - $ref: '#/components/schemas/ISIN'
        - $ref: '#/components/schemas/CUSIP'
        - $ref: '#/components/schemas/CIK'
      description: Security identifier

    SecurityType:
      type: string
      enum:
        - COMMON_STOCK
        - ETF
        - ADR
        - REIT
        - WARRANT
# Not supported yet
#        - PREFERRED_STOCK
#        - MUTUAL_FUND
#        - INDEX
#        - BOND
#        - UNIT

    SecurityVariant:
      type: object
      required: [symbol, exchange, is_primary]
      properties:
        symbol:
          $ref: '#/components/schemas/Symbol'
        exchange:
          $ref: './exchange.yaml#/components/schemas/Exchange'
        is_primary:
          type: boolean
          description: Whether this is the primary trading venue
        currency:
          $ref: './currency.yaml#/components/schemas/Currency'

    Security:
      type: object
      required: [ symbol, isin, name, currency, exchange, type, variants, trading_status ]
      properties:
        symbol:
          $ref: '#/components/schemas/Symbol'
        isin:
          $ref: '#/components/schemas/ISIN'
        cusip:
          $ref: '#/components/schemas/CUSIP'
        cik:
          $ref: '#/components/schemas/CIK'
        currency:
          $ref: './currency.yaml#/components/schemas/Currency'
        exchange:
          $ref: './exchange.yaml#/components/schemas/Exchange'
        name:
          type: string
          description: Legal name of the securities
          example: Apple Inc.
        type:
          $ref: '#/components/schemas/SecurityType'
        gics:
          $ref: './gics.yaml#/components/schemas/GICS'
        logo:
          type: string
          format: uri
          description: CDN URL to image logo
          example: 'https://cdn.marketdataapi.com/logos/AAPL.png'
        ipo_date:
          type: string
          format: date
          example: '1980-12-12'
        employee_count:
          type: number
          format: int32
          minimum: 1
          example: 164000
        ceo:
          type: string
          example: 'Tim Cook'
        description:
          type: string
          description: 'Company business overview'
        website:
          type: string
          format: uri
          description: 'Official company website'
        variants:
          type: array
          items:
            $ref: '#/components/schemas/SecurityVariant'
          description: All known trading symbols for this entity across exchanges.
        parent_company:
          $ref: '#/components/schemas/ISIN'
        subsidiaries:
          type: array
          items:
            $ref: '#/components/schemas/ISIN'
        trading_status:
          type: string
          enum: [ ACTIVE, INACTIVE ]
      example:
        symbol: 'AAPL'
        isin: 'US0378331005'
        cusip: '037833100'
        cik: '0000320193'
        currency:
          code: 'USD'
          numeric_code: '840'
          minor_unit: 2
          symbol: '$'
          iso_name: 'United States dollar'
        exchange:
          mic: 'XNAS'
          name: 'NASDAQ'
        name: 'Apple Inc.'
        type: 'COMMON_STOCK'
        gics:
          sector:
            code: '45'
            name: 'Information Technology'
          industry_group:
            code: '4520'
            name: 'Technology Hardware & Equipment'
          industry:
            code: '452020'
            name: 'Technology Hardware, Storage & Peripherals'
          sub_industry:
            code: '45202030'
            name: 'Technology Hardware, Storage & Peripherals'
          version: '2026-01-01'
        logo: 'https://cdn.marketdataapi.com/logos/AAPL.png'
        ipo_date: '1980-12-12'
        employee_count: 164000
        ceo: 'Tim Cook'
        description: 'Apple Inc. designs, manufactures, and markets smartphones, personal computers, tablets, wearables, and accessories worldwide. The company offers iPhone, Mac, iPad, AirPods, Apple TV, Apple Watch, Beats products, and HomePod. It also provides AppleCare support and cloud services, and operates various platforms including the App Store, Apple Music, Apple Pay, and iCloud.'
        website: 'https://www.apple.com/'
        variants:
          - symbol: 'AAPL.US'
            exchange:
              mic: 'XNAS'
              name: 'NASDAQ'
            is_primary: true
            currency:
              code: 'USD'
              numeric_code: '840'
              minor_unit: 2
              symbol: '$'
              iso_name: 'United States dollar'
          - symbol: 'AAPL.L'
            exchange:
              mic: 'XLON'
              name: 'LSE'
            is_primary: false
            currency:
              code: 'GBP'
              numeric_code: '826'
              minor_unit: 2
              symbol: 'Â£'
              iso_name: 'Pound sterling'
        parent_company: null
        subsidiaries:
          - 'US3825501014'
        trading_status: ACTIVE